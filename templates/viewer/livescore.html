{% extends 'base/main.html' %}

{% block title %}Today's Fixtures{% endblock %}

{% block content %}
  <h2 class="mb-4">ðŸ“… Fixtures & Scores</h2>

  {% if messages %}
<div class="container mt-3">
    {% for message in messages %}
        <div class="alert alert-{{ message.tags }} alert-dismissible fade show" role="alert">
            {{ message }}
            <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
        </div>
    {% endfor %}
</div>
{% endif %}

  {% if user.is_authenticated %}
<a href="{% url 'add-fixture' %}">âž• Add Fixture</a>
 {% endif %}
<table class="table table-bordered table-striped">
 <thead class="table-dark">
  <tr>
    <th>Home</th>
    <th>Away</th>
    <th>Date</th>
    <th>Score</th>
    <th>Status</th>
    {% if user.is_authenticated %}
    <th>Actions</th>
    {% endif %}
  </tr>
  </thead>
  <tbody>
  {% for fixture in fixtures %}
  <tr>
    <td>{{ fixture.home_team }}</td>
    <td>{{ fixture.away_team }}</td>
    <td>{{ fixture.match_date }}</td>
    <td>{{ fixture.home_score }} - {{ fixture.away_score }}</td>
    <td>{{ fixture.get_status_display }}</td>
    {% if user.is_authenticated %}
    <td>
      <a href="{% url 'edit-fixture' fixture.id %}" class="btn btn-sm btn-primary">Update</a>
      <a href="{% url 'delete-fixture' fixture.id %}" class="btn btn-sm btn-danger">Delete</a>
    </td>
    {% endif %}
  </tr>
  {% empty %}
  <tr><td colspan="6">No fixtures available.</td></tr>
  {% endfor %}
  </tbody>
</table>
{% endblock %}
